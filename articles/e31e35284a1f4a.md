---
title: "AR Foundationå®Œå…¨ã«ç†è§£ã—ãŸ"
emoji: "ğŸ”–"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [AR, Unity, iOS, Android]
published: false
---

Unityã§ARã‚¢ãƒ—ãƒªã‚’ä½œã‚‹ãŸã‚ã«ã€AR Foundationã¨ã„ã†ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ã£ã¦ã¿ã¾ã—ãŸã€‚

https://unity.com/ja/unity/features/arfoundation

# ç’°å¢ƒ
æœ¬è¨˜äº‹ã§ä½¿ç”¨ã™ã‚‹UnityãŠã‚ˆã³AR Foundationã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ã€‚
- Unity 2021.1.5f1
- AR Foundation 4.1.7

# AR Foundationã¨ã¯

AR Foundation ã«ã¯ ARKitã€ARCoreã€Magic Leapã€HoloLens ã‹ã‚‰ã®ã‚³ã‚¢æ©Ÿèƒ½ã®ã»ã‹ã€å …ç‰¢ãªã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã€ç¤¾å†…ã®é–¢ä¿‚è€…ã‚„ã‚ã‚‰ã‚†ã‚‹ã‚¢ãƒ—ãƒªã‚¹ãƒˆã‚¢ã«ã™ãã«ãƒªãƒªãƒ¼ã‚¹ã™ã‚‹ãŸã‚ã® Unity ã®ç‹¬è‡ªæ©Ÿèƒ½ãŒå‚™ã‚ã£ã¦ã„ã¾ã™ã€‚ã“ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã«ã‚ˆã‚Šã€ã“ã‚Œã‚‰ã®ã™ã¹ã¦ã®æ©Ÿèƒ½ã‚’çµ±ä¸€ã•ã‚ŒãŸãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã§åˆ©ç”¨ã§ãã¾ã™ã€‚

https://youtu.be/DUUthDpiGiA

AR Foundation ã§ã¯ AR ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã¨ãã«ç¾åœ¨åˆ©ç”¨ã§ããªã„æ©Ÿèƒ½ã‚’æŒã£ã¦è¡Œãã“ã¨ãŒã§ãã¾ã™ã€‚ã‚ã‚‹æ©Ÿèƒ½ãŒä¸€æ–¹ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§æœ‰åŠ¹ã«ãªã£ã¦ã„ã‚‹ãŒã‚‚ã†ä¸€æ–¹ã§æœ‰åŠ¹ã«ãªã£ã¦ã„ãªã„å ´åˆã€å¾Œã§æº–å‚™ãŒã§ããŸã¨ãã®ãŸã‚ã«ãã‚Œã«ãƒ•ãƒƒã‚¯ã‚’ä»˜ã‘ã¦ãŠãã¾ã™ã€‚æ–°ã—ã„ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ãã®æ©Ÿèƒ½ãŒæœ‰åŠ¹ã«ãªã£ãŸã‚‰ã€ã‚¢ãƒ—ãƒªã‚’å®Œå…¨ã«ä¸€ã‹ã‚‰å†æ§‹ç¯‰ã™ã‚‹ä»£ã‚ã‚Šã«ã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’æ›´æ–°ã™ã‚‹ã“ã¨ã§ç°¡å˜ã«çµ±åˆã§ãã¾ã™



- [ARCore XR Plugin](https://docs.unity3d.com/Packages/com.unity.xr.arcore@4.1/manual/index.html) on Android
- [ARKit XR Plugin](https://docs.unity3d.com/Packages/com.unity.xr.arkit@4.1/manual/index.html) on iOS
- [Magic Leap XR Plugin](https://docs.unity3d.com/Packages/com.unity.xr.magicleap@6.0/manual/index.html) on Magic Leap
- [Windows XR Plugin](https://docs.unity3d.com/Packages/com.unity.xr.windowsmr@4.0/manual/index.html) on HoloLens

ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã”ã¨ã®æ©Ÿèƒ½ã‚µãƒãƒ¼ãƒˆã«ã¤ã„ã¦ã¯ã€ä»¥ä¸‹ã®è¡¨ã‚’ã”å‚ç…§ãã ã•ã„ã€‚

|	|ARCore|	ARKit|	Magic Leap|	HoloLens|
|---|---|---|---|---|---|
|Device tracking|	âœ“|	âœ“|	âœ“|	âœ“|
|Plane tracking|	âœ“|	âœ“|	âœ“| |
|Point clouds|	âœ“|	âœ“|		||
|Anchors|	âœ“|	âœ“|	âœ“|	âœ“|
|Light estimation|	âœ“|	âœ“|	|	|
|Environment probes|	âœ“|	âœ“|	|	|
|Face tracking|	âœ“|	âœ“|	|	|
|2D Image tracking|	âœ“|	âœ“|	âœ“|	|
|3D Object tracking|	|	âœ“|	|	|
|Meshing|	|	âœ“|	âœ“|	âœ“|
|2D & 3D body tracking|		|âœ“|	|	|
|Collaborative participants|		|âœ“|	|	|
|Human segmentation|		|âœ“|	|	|
|Raycast|	âœ“|	âœ“|	âœ“|	|
|Pass-through video|	âœ“|	âœ“|	|	|
|Session management|	âœ“|	âœ“|	âœ“|	âœ“|
|Occlusion|	âœ“|	âœ“|	|	|

[About AR Foundation | AR Foundation | 4.1.7 ](https://docs.unity3d.com/Packages/com.unity.xr.arfoundation@4.1/manual/index.html)

# Unityãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ
Unityã‚’èµ·å‹•ã€‚3Dãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’é¸æŠã—ã€æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚

![](https://storage.googleapis.com/zenn-user-upload/f832fd2447c2-20211205.jpg)

# AR Foundationé–¢é€£ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®å°å…¥
PackageManagerã§ä»¥ä¸‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€‚

- AR Foundation
- ARCore XR Plugin
- ARKit XR Plugin

![](https://storage.googleapis.com/zenn-user-upload/67b22ae66c51-20211205.jpg)

# Project Settingsã®è¨­å®š

Project Settingsã®XR Plug-in Managementã«ã¦ã€iOSãƒ»Androidãƒ“ãƒ«ãƒ‰ç”¨ã«ã€å„ã‚¿ãƒ–ã®ARKitãƒ»ARCoreé …ç›®ã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã‚‹ã€‚

![](https://storage.googleapis.com/zenn-user-upload/5e766adfadc5-20211205.jpg)
![](https://storage.googleapis.com/zenn-user-upload/ce89c25ee440-20211205.jpg)

# Sceneã®è¨­å®š
Hierarchyã§å³ã‚¯ãƒªãƒƒã‚¯ã—ã€ XR > AR Session ã€ XR > AR Session Origin ã‚’é¸æŠã—ã¦ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿½åŠ ã™ã‚‹
![](https://storage.googleapis.com/zenn-user-upload/bff1142f04ad-20211205.jpg)
![](https://storage.googleapis.com/zenn-user-upload/f86a93866210-20211205.jpg)

# Inspectorã¾ã‚ã‚Šã®è¨­å®š

AR Session Originã«AR Cameraã¨ã„ã†Cameraã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒã‚ã‚‹ãŸã‚ã€Main Cameraã¯å‰Šé™¤ã—ã¾ã™ã€‚
![](https://storage.googleapis.com/zenn-user-upload/31df6bd32b81-20211205.jpg)

å‹•ä½œç¢ºèªç”¨ã«Cubeã‚’è¿½åŠ ã€‚
![](https://storage.googleapis.com/zenn-user-upload/adf14e6a7b17-20211205.jpg)

ScaleãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®1ã§ã¯ãƒ‡ã‚«ã™ãã‚‹ã®ã§ã€10åˆ†ã®1ã«ã—ã¦ãŠãã¾ã™ã€‚
![](https://storage.googleapis.com/zenn-user-upload/c12b562b70ab-20211205.jpg)

## Androidã®ãƒ“ãƒ«ãƒ‰è¨­å®š
Build Settingsã®Platformã§Androidã‚’é¸æŠã—ã¦Switch Platformãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã€‚
![](https://storage.googleapis.com/zenn-user-upload/77d67dca3dfa-20211205.jpg)

Add Open Scenesãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦SampleSceneã‚’è¿½åŠ ã€‚
![](https://storage.googleapis.com/zenn-user-upload/7093d6ac545c-20211205.jpg)

Minimum API Levelã‚’`Android7.0 (API level24)`ã«è¨­å®šã€‚
![](https://storage.googleapis.com/zenn-user-upload/0f36f157faf5-20211205.jpg)

Player Settings > Other Settings ã§Auto Graphics APIã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã‚‹ã€‚
![](https://storage.googleapis.com/zenn-user-upload/fc7547570306-20211205.jpg)

IL2CPPã«ãƒã‚§ãƒƒã‚¯ã€‚
![](https://storage.googleapis.com/zenn-user-upload/85dd737ebf5a-20211205.jpg)

ARM64ã«ãƒã‚§ãƒƒã‚¯ã€‚
![](https://storage.googleapis.com/zenn-user-upload/88cb83d12b28-20211205.jpg)

ã“ã‚Œã§ãƒ“ãƒ«ãƒ‰ãŒé€šã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€è©¦ã—ã«å®Ÿæ©Ÿã§å‹•ä½œç¢ºèªã—ã¦ã¿ã¾ã™ã€‚

![](https://storage.googleapis.com/zenn-user-upload/5306cb15f8c0-20211205.jpg)

ç¾å®Ÿä¸–ç•Œã«è±†è…ãŒå‡ºç¾ã—ã¾ã—ãŸï¼

# å¹³é¢æ¤œçŸ¥

AR Defalut Planeã‚’è¿½åŠ ã—ã¦PrefabåŒ–ã€‚
![](https://storage.googleapis.com/zenn-user-upload/8c37dd9f19dd-20211205.jpg)

AR Session Originã«AR Plane Managerã‚’ã‚¢ã‚¿ãƒƒãƒã€‚Plane Prefabã«PrefabåŒ–ã—ãŸAR Default Planeã‚’ã‚»ãƒƒãƒˆã—ã¾ã™ã€‚
![](https://storage.googleapis.com/zenn-user-upload/2a9e7e99dcd0-20211205.jpg)

ãƒ“ãƒ«ãƒ‰å®Ÿè¡Œã—ã¦ã‚¹ãƒãƒ›ã‚’å‹•ã‹ã—ã¦ã¿ã‚‹ã¨ã€å¹³é¢æ¤œçŸ¥ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚
![](https://storage.googleapis.com/zenn-user-upload/c556b8aac650-20211205.jpg)

# ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ç”¨æ„

# ãƒ¦ãƒ‹ãƒ†ã‚£ã¡ã‚ƒã‚“ã®å°å…¥

# ã§ããŸã‚‚ã®
â–¼å‹•ç”»
https://youtu.be/qokauSDNhQ8

â–¼ä»Šå›ä½œæˆã—ãŸARã‚¢ãƒ—ãƒªã®ãƒªãƒã‚¸ãƒˆãƒªã¯ã“ã¡ã‚‰ã€‚
https://github.com/unsolublesugar/ARFoundationUnityChan