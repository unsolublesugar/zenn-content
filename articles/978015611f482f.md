---
title: "å¤§æ–‡å­—ãƒ»å°æ–‡å­—ãŒå¼•ãèµ·ã“ã™ãƒ‘ã‚¹å•é¡Œ: Next.jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãŠã‘ã‚‹Macã¨Windowsã®é•ã„"
emoji: "ğŸ˜«"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [nextjs, typescript, git, apfs]
published: true
---

# æ¦‚è¦
Next.jsã‚’ä½¿ã£ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¦ã€Macã®ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ã¯å•é¡Œãªãè¡¨ç¤ºã•ã‚Œã‚‹ç”»é¢ãŒã€Windowsç’°å¢ƒã§ã¯è¡¨ç¤ºã•ã‚Œãªã„ã¨ã„ã†äº‹è±¡ã«é­é‡ã—ã¾ã—ãŸã€‚

![](https://storage.googleapis.com/zenn-user-upload/8665430fd0eb-20230815.png)

å•é¡Œè‡ªä½“ã¯ãŠç²—æœ«ãªå‡¡ãƒŸã‚¹ã ã£ãŸã®ã§ã™ãŒã€äº‹è±¡è§£æ±ºã®å¯¾å¿œæ™‚ã«ã„ãã¤ã‹ãƒãƒã‚Šã”ã¨ãŒã‚ã£ãŸãŸã‚ä¸€é€£ã®çµŒç·¯ã‚’å‚™å¿˜éŒ²ã¨ã—ã¦æ®‹ã—ã¦ãŠãã¾ã™ã€‚

:::message
ç­†è€…ã®çŸ¥è¦‹ãŒæµ…ã„æŠ€è¡“é ˜åŸŸã®ãŸã‚ã€è¨˜è¼‰å†…å®¹ã«èª¤ã‚ŠãŒã‚ã‚Œã°ã”æŒ‡æ‘˜ã„ãŸã ã‘ã‚‹ã¨å¹¸ã„ã§ã™
:::

## çŠ¶æ³æ•´ç†
- äº‹è±¡ç™ºç”Ÿã®å¯¾è±¡ã¯ç‰¹å®šã®1ç”»é¢ã®ã¿
- ä¸¡OSã¨ã‚‚è¤‡æ•°ãƒ–ãƒ©ã‚¦ã‚¶ã§æŒ™å‹•ç¢ºèªï¼ˆChrome, Firefox, Safari, Edgeï¼‰
- ãƒ–ãƒ©ã‚¦ã‚¶ã«ã‚ˆã‚‹é•ã„ã¯è¦‹ã‚‰ã‚Œãš
- consoleä¸Šã§ç¢ºèªã§ãã‚‹ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯ãƒªã‚½ãƒ¼ã‚¹ãŒè¦‹ã¤ã‹ã‚‰ãªã„ã¨ã„ã†æƒ…å ±ã®ã¿

```
Failed to load resource: the server responded with a status of 404 (Not Found)
```

ä»¥ä¸Šã®ã“ã¨ã‹ã‚‰ã€å®Ÿè¡Œç’°å¢ƒã‚‚ã—ãã¯OSä¾å­˜ã«ã‚ˆã‚‹å¯èƒ½æ€§ãŒé«˜ã„ã¨è€ƒãˆã¾ã—ãŸã€‚

## åŸå› 
ã‚¨ãƒ©ãƒ¼å†…å®¹ã‚’è¦‹ã¦ã‚‚`Not Found`ä»¥å¤–ã®æƒ…å ±ãŒå¾—ã‚‰ã‚Œãªã‹ã£ãŸãŸã‚ã€æ”¹ã‚ã¦ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°å¯¾è±¡ãƒšãƒ¼ã‚¸ã®ãƒ‘ã‚¹ã‚’è¦‹ã¦ã¿ãŸã¨ã“ã‚ã€é·ç§»å…ˆãƒšãƒ¼ã‚¸ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ç½®ã—ã¦ã„ãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåã«å•é¡ŒãŒã‚ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã—ãŸã€‚

pagesé…ä¸‹ã®ãƒ‘ã‚¹ã¯kebab-caseã§å®šç¾©ã—ã¦ã„ãŸã¤ã‚‚ã‚ŠãŒã€å°æ–‡å­—ã® `i` ã§å§‹ã¾ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåã®å…ˆé ­ãŒå¤§æ–‡å­—ã® `I` ã«ãªã£ã¦ã„ãŸã®ã§ã™ã€‚

```shell:e.g. 
æ­£ï¼‰ /ai-identity/index.tsx
èª¤ï¼‰ /ai-Identity/index.tsx
```

ã“ã®å¤§æ–‡å­—/å°æ–‡å­—ã®åç§°é•ã„ãŒåŸå› ã§ã€è©²å½“ãƒšãƒ¼ã‚¸ã®ãƒ‘ã‚¹ãŒè¦‹ã¤ã‹ã‚‰ãšã€404ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã„ã¾ã—ãŸã€‚å®Ÿéš›ã«å¤§æ–‡å­—ã«ãªã£ã¦ã„ãŸéƒ¨åˆ†ã‚’å°æ–‡å­—ã«ãƒªãƒãƒ¼ãƒ ã—ã¦ã¿ã‚‹ã¨ã€Windowsç’°å¢ƒã§ã‚‚æ­£å¸¸ã«ç”»é¢è¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ãŒç¢ºèªã§ãã¾ã—ãŸã€‚

Macã§ã¯å•é¡Œãªãè¡¨ç¤ºã•ã‚Œã¦ã„ãŸç”»é¢ã ã£ãŸã®ã§ã€ã“ã‚Œã¾ã§æ°—ä»˜ãã“ã¨ãŒã§ããªã‹ã£ãŸã‚±ã‚¢ãƒ¬ã‚¹ãƒŸã‚¹ã§ã™â€¦

# å•é¡Œâ‘ gitã§å¤§æ–‡å­—/å°æ–‡å­—ã®å¤‰æ›´ãŒæ¤œçŸ¥ã•ã‚Œãªã„
äº‹è±¡è§£æ±ºã®ãŸã‚ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåã®å¤§æ–‡å­—/å°æ–‡å­—å¤‰æ›´ã‚’ã—ãŸã¨ã“ã‚ã€Œgitã§å¤‰æ›´æ¤œçŸ¥ã•ã‚Œãšã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ã‚¨ãƒªã‚¢ã«addã™ã‚‹ã“ã¨ãŒã§ããªã„ã€ã¨ã„ã†å•é¡Œã«ã¶ã¤ã‹ã‚Šã¾ã—ãŸã€‚

`git config`ã‚’ç¢ºèªã™ã‚‹ã¨ã€å®Ÿè¡Œç’°å¢ƒã§å¤§æ–‡å­—/å°æ–‡å­—ã®åŒºåˆ¥ã‚’ã—ãªã„è¨­å®šã¨ãªã£ã¦ã„ãŸãŸã‚ã€ä»Šå›ã®ã‚ˆã†ãªãƒªãƒãƒ¼ãƒ ã®å·®åˆ†æ¤œçŸ¥ã‚’ã—ã¦ãã‚Œãªã‹ã£ãŸæ¨¡æ§˜ã§ã™ã€‚

> If true, this option enables various workarounds to enable Git to work better on filesystems that are not case sensitive, like FAT. For example, if a directory listing finds "makefile" when Git expects "Makefile", Git will assume it is really the same file, and continue to remember it as "Makefile".
> 
> The default is false, except [git-clone[1]](https://git-scm.com/docs/git-clone) or [git-init[1]](https://git-scm.com/docs/git-init) will probe and set core.ignoreCase true if appropriate when the repository is created.
> 
> [core.ignoreCase | Git - git-config Documentation](https://git-scm.com/docs/git-config/2.14.6#Documentation/git-config.txt-coreignoreCase)

ä»¥ä¸‹ã‚³ãƒãƒ³ãƒ‰ã§å¤§æ–‡å­—/å°æ–‡å­—ã®é•ã„ã‚‚æ¤œçŸ¥ã™ã‚‹ã‚ˆã†ã«è¨­å®šå¤‰æ›´ã€‚
```shell
$ git config core.ignorecase false
```
è¨­å®šãŒåæ˜ ã•ã‚ŒãŸã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚

```shell
$ git config -l --local | grep core.ignorecase
core.ignorecase=false
```

ã“ã‚Œã§å¯¾è±¡ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®å¤‰æ›´ã‚’æ¤œçŸ¥ã—ã€ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ï¼†ã‚³ãƒŸãƒƒãƒˆã§ãã¾ã—ãŸã€‚

ã¡ãªã¿ã«`git mv`ã§ä¸€åº¦tmpçš„ãªåç§°ã«ç½®ãæ›ãˆã¦ãƒªãƒãƒ¼ãƒ ã™ã‚‹æ–¹æ³•ã‚‚ã‚ã‚Šã¾ã™ãŒã€è¨­å®šå¤‰æ›´ã—ã¦ãŠãã®ãŒç„¡é›£ã§ã—ã‚‡ã†ã€‚

# å•é¡Œâ‘¡ãªãœMacã§ã¯å•é¡ŒãŒé¡•åœ¨åŒ–ã—ãªã‹ã£ãŸã®ã‹
ãƒ‘ã‚¹åã®ä¸ä¸€è‡´ã«ã‚ˆã‚Šã€not foundã‚¨ãƒ©ãƒ¼ãŒå¼•ãèµ·ã“ã•ã‚ŒãŸã“ã¨ã¯ã‚ã‹ã‚Šã¾ã—ãŸãŒã€ŒãªãœMacç’°å¢ƒã§ã¯ã“ã®å•é¡ŒãŒé¡•åœ¨åŒ–ã—ãªã‹ã£ãŸã®ã‹ï¼Ÿã€ã¨ã„ã†ç–‘å•ãŒæµ®ã‹ã³ã¾ã—ãŸã€‚

çµè«–ã‹ã‚‰è¨€ã†ã¨ã€Macã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã«èµ·å› ã™ã‚‹ã‚‚ã®ã§ã¯ãªã„ã‹ã¨è€ƒãˆã‚‰ã‚Œã¾ã™ã€‚

## ãƒ‘ã‚¹ã®å¤§æ–‡å­—/å°æ–‡å­—ã‚’åŒºåˆ¥ã—ãªã„APFS
Macã®ãƒ‡ã‚£ã‚¹ã‚¯æƒ…å ±ã‚’ç¢ºèªã—ãŸã¨ã“ã‚ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒã€ŒAPFSï¼ˆæš—å·åŒ–ï¼‰ã€ã¨ãªã£ã¦ãŠã‚Šã€ãƒ‘ã‚¹ã®å¤§æ–‡å­—/å°æ–‡å­—ã‚’åŒºåˆ¥ã—ãªã„ä»•æ§˜ã«ãªã£ã¦ã„ã¾ã—ãŸã€‚

![](https://storage.googleapis.com/zenn-user-upload/397be1276ab8-20230815.png)

APFSï¼ˆApple File Systemï¼‰ã¯ã€macOS 10.13ä»¥é™ã§æ¡ç”¨ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã£ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ã™ã€‚

https://support.apple.com/ja-jp/guide/disk-utility/dsku19ed921c/mac

å®Ÿã¯ã“ã®APFSè‡ªä½“ã«ã¯è¤‡æ•°ã®ç¨®é¡ãŒã‚ã‚Šã€ä½¿ç”¨ç’°å¢ƒã«ã‚ˆã‚Šãƒ‘ã‚¹ã®å¤§æ–‡å­—/å°æ–‡å­—ã‚’åŒºåˆ¥ã™ã‚‹ã‹å¦ã‹ãŒå¤‰ã‚ã£ã¦ãã¾ã™ã€‚

> - APFS: APFSãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’ä½¿ç”¨ã—ã¾ã™ã€‚æš—å·åŒ–ã‚„ã€å¤§æ–‡å­—/å°æ–‡å­—ã‚’åŒºåˆ¥ã™ã‚‹ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒå¿…è¦ãªã„å ´åˆã¯ã€ã“ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’é¸æŠã—ã¾ã™ã€‚
> - APFSï¼ˆæš—å·åŒ–ï¼‰: APFSãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’ä½¿ç”¨ã—ã€ãƒœãƒªãƒ¥ãƒ¼ãƒ ã‚’æš—å·åŒ–ã—ã¾ã™ã€‚
> - APFSï¼ˆå¤§æ–‡å­—/å°æ–‡å­—ã‚’åŒºåˆ¥ï¼‰: APFSãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’ä½¿ç”¨ã—ã€ãƒ•ã‚¡ã‚¤ãƒ«åãŠã‚ˆã³ãƒ•ã‚©ãƒ«ãƒ€åã®å¤§æ–‡å­—/å°æ–‡å­—ã‚’åŒºåˆ¥ã—ã¾ã™ã€‚ä¾‹ãˆã°ã€ã€ŒHomeworkã€ã¨ã€ŒHOMEWORKã€ã¨ã„ã†åå‰ã®ãƒ•ã‚©ãƒ«ãƒ€ã¯ã€2ã¤ã®ç•°ãªã‚‹ãƒ•ã‚©ãƒ«ãƒ€ã§ã™ã€‚
> - APFSï¼ˆå¤§æ–‡å­—/å°æ–‡å­—ã‚’åŒºåˆ¥ã€æš—å·åŒ–ï¼‰: APFSãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’ä½¿ç”¨ã—ã€ãƒ•ã‚¡ã‚¤ãƒ«åãŠã‚ˆã³ãƒ•ã‚©ãƒ«ãƒ€åã®å¤§æ–‡å­—/å°æ–‡å­—ã‚’åŒºåˆ¥ã—ã€ãƒœãƒªãƒ¥ãƒ¼ãƒ ã‚’æš—å·åŒ–ã—ã¾ã™ã€‚ä¾‹ãˆã°ã€ã€ŒHomeworkã€ã¨ã€ŒHOMEWORKã€ã¨ã„ã†åå‰ã®ãƒ•ã‚©ãƒ«ãƒ€ã¯ã€2ã¤ã®ç•°ãªã‚‹ãƒ•ã‚©ãƒ«ãƒ€ã§ã™ã€‚

ã€ŒAPFSï¼ˆå¤§æ–‡å­—/å°æ–‡å­—ã‚’åŒºåˆ¥ï¼‰ã€ã‚‚ã—ãã¯ã€ŒAPFSï¼ˆå¤§æ–‡å­—/å°æ–‡å­—ã‚’åŒºåˆ¥ã€æš—å·åŒ–ï¼‰ã€ã§ã¯ãªã„ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®å ´åˆã€ãƒ‘ã‚¹ã®å¤§æ–‡å­—/å°æ–‡å­—ã®é•ã„ã‚’å¸åã—ã¦ã—ã¾ã†ã‚ã‘ã§ã™ã€‚å‰è¿°ã®é€šã‚Šã€ãƒ‘ã‚¹ã®å¤§æ–‡å­—/å°æ–‡å­—ã‚’å³å¯†ã«åŒºåˆ¥ã™ã‚‹OSç’°å¢ƒï¼ˆWebã‚µãƒ¼ãƒï¼‰ã¸ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸå ´åˆã€æœ¬ä»¶ã¨åŒæ§˜ã«`404  not found`ãªå•é¡ŒãŒç™ºç”Ÿã™ã‚‹ã‚‚ã®ã¨æ€ã‚ã‚Œã¾ã™ã€‚

è‡ªåˆ†ãŒä½¿ç”¨ã—ã¦ã„ã‚‹Macã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ãŒã€ãƒ‘ã‚¹ã®å¤§æ–‡å­—/å°æ–‡å­—ã‚’åŒºåˆ¥ã—ãªã„ä»•æ§˜ã«ãªã£ã¦ã„ã‚‹ã¨ã¯ã¾ã£ãŸãèªè­˜ã—ã¦ã„ã¾ã›ã‚“ã§ã—ãŸã€‚ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã®æ¦‚å¿µã‚’æŠŠæ¡ã—ã¦ã„ãªã‘ã‚Œã°ã€ä¸­ã€…é€£æƒ³ã—ã¥ã‚‰ã„å•é¡Œã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã­ã€‚

## å†ç™ºé˜²æ­¢ç­–

APFSã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›´ã¯å½±éŸ¿åº¦ãŒå¤§ãéãã‚‹ãŸã‚ã€å†ç™ºé˜²æ­¢ç­–ã¨ã—ã¦è©²å½“ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å¤§æ–‡å­—/å°æ–‡å­—ã®ãƒŸã‚¹ã‚’æ¤œçŸ¥ã—ã¦ãã‚Œã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ [case-sensitive-paths-webpack-plugin](https://www.npmjs.com/package/case-sensitive-paths-webpack-plugin) ã‚’å°å…¥ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚

> This Webpack plugin enforces the entire path of all required modules match the exact case of the actual path on disk. Using this plugin helps alleviate cases where developers working on OSX, which does not follow strict path case sensitivity, will cause conflicts with other developers or build boxes running other operating systems which require correctly cased paths.
> 
> [case-sensitive-paths-webpack-plugin - npm ](https://www.npmjs.com/package/case-sensitive-paths-webpack-plugin)

ã²ã¨ã¾ãšã“ã‚Œã§åŒæ§˜ã®äº‹è±¡ç™ºç”Ÿã¯è»½æ¸›ã§ãã‚‹ã®ã§ã¯ãªã„ã‹ã¨ã€‚
ï¼ˆä»–ã«é©åˆ‡ãªå¯¾å‡¦æ³•ãŒã‚ã‚Œã°ã”æ•™ç¤ºã„ãŸã ããŸã„ã§ã™ï¼‰


# ä¸æ˜ç­ãªç‚¹

ä»¥ä¸Šã§å•é¡Œã®è§£æ±ºã«ã¯è‡³ã‚Šã¾ã—ãŸãŒã€TypeScriptã«é–¢ã™ã‚‹ç–‘å•ãŒï¼‘ç‚¹æ®‹ã£ã¦ã„ã¾ã™ã€‚

 å¤§æ–‡å­—/å°æ–‡å­—ã®é–“é•ã„ã‚’é˜²ããŸã‚ã€å…ƒã€…`tsconfig.json`ã®`forceConsistentCasingInFileNames`ã¯`true`ã«è¨­å®šã—ã¦ã„ãŸã®ã§ã™ãŒã€ä»Šå›ã®ã‚±ãƒ¼ã‚¹ã¯ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåã ã£ãŸãŸã‚æ¤œçŸ¥ã®å¯¾è±¡å¤–ã¨ãªã‚‹ã®ã§ã—ã‚‡ã†ã‹â€¦ï¼Ÿ

> **Force Consistent Casing In File Names - forceConsistentCasingInFileNames**
>
> TypeScript follows the case sensitivity rules of the file system itâ€™s running on. This can be problematic if some developers are working in a case-sensitive file system and others arenâ€™t. If a file attempts to import fileManager.ts by specifying ./FileManager.ts the file will be found in a case-insensitive file system, but not on a case-sensitive file system.
> 
> When this option is set, TypeScript will issue an error if a program tries to include a file by a casing different from the casing on disk.
> 
> [TypeScript: TSConfig Reference - Docs on every TSConfig option](https://www.typescriptlang.org/tsconfig#forceConsistentCasingInFileNames)

TypeScriptã«çŸ¥è¦‹ã®ã‚ã‚‹æ–¹ã€ã‚‚ã—ã”å­˜çŸ¥ã§ã—ãŸã‚‰ã‚³ãƒ¡ãƒ³ãƒˆã‚„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’ã„ãŸã ã‘ã‚‹ã¨å¬‰ã—ã„ã§ã™ã€‚